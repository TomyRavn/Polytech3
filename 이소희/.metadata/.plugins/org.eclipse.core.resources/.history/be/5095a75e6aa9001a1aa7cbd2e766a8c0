package kr.ac.kopo.student;

import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.PreparedStatement;
import java.sql.SQLException;

public class StudentDaoJdbc {
	{
		try {	
		Class.forName("oracle.jdbc.OracleDriver");
	} catch (ClassNotFoundException e) {
		e.printStackTrace();
	}
	}

	
	String url = "jdbc:oracle:thin:@localhost:1521:xe";
	String user = "com";
	String password = "com01";

	public int deleteStudent(String delStuNo) {
		int num = 0;

		String sql = "DELETE FROM student WHERE stu_no = ?";

		try (Connection conn = DriverManager.getConnection(url, user, password);
				PreparedStatement pstmt = conn.prepareStatement(sql);) {
			pstmt.setString(1, delStuNo);
			num = pstmt.executeUpdate();

		} catch (SQLException e) {
			e.printStackTrace();
		}
		return num;
	}

	public int insertStudent(StudentVo vo) {
		int num = 0;
	String sql = "INSERT INTO student (stu_no,  stu_name, stu_score) " + "VALUES (?,?,?)";
	try (Connection conn = DriverManager.getConnection(url, user, password);
	PreparedStatement pstmt = conn.prepareStatement(sql);) {		
	pstmt.setString(1, vo.getStuNo()); 
	pstmt.setString(2, vo.getStuName()); 
	pstmt.setInt(3, vo.getStuScore()); 
	num = pstmt.executeUpdate();
	
	
	} catch (SQLException e) {
			e.printStackTrace();
	}
	return num;
	
	
	
}
}